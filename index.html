<!DOCTYPE html>
<html lang="en-US">
    <script>
        /*
        Determines which content to display in main body (div id = "maincontent")
        */
        let currselect = 'aboutme';

        function buttonPressed(text) {
            let currhtml = document.getElementById(currselect);
            currhtml.style.display = "none";
            switch(text) {
                case 'aboutmebutton':
                    currselect = 'aboutme'
                    break;
                case 'gallerybutton':
                    currselect = 'gallery'
                    break;
                case 'commissionsbutton':
                    currselect = 'commissions'
                    break;
            }
            let newhtml = document.getElementById(currselect);
            newhtml.style.display = "block";
        }

        /*
        Prepares email when submit button is pressed on commissions form
        */

        function sendCommmission() {
            let commissionbody = document.getElementById("emailbody").value;
            const form = document.getElementById("commissionform");
            const enc = "aGlpNDcxNzAyQGdtYWlsLmNvbQ==";
            const name = document.getElementById("namefield").value;
            form.setAttribute("action", "mailto:".concat(atob(enc))
            .concat("?subject=Commission Request").concat("&body=")
            .concat("Name: ").concat(name).concat("%0D%0A").concat("%0D%0A")
            .concat("Description of Idea: ").concat(commissionbody));
        }

    </script>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="stylesheet.css">
        <title>Twisted String Art</title>
    </head>
    <body>
        <div id="header">
            <div id="imgbackground">
                <img id="headerimg" src="2.png" alt="Italian Trulli">
            </div>
            <div id="navbartoplevel">
                <div class="navbuttoncontainer">
                    <button class="navbutton" id="aboutmebutton" onclick="buttonPressed(this.id)" class="navbutton">About Me</button>
                </div>
                <div class="navbuttoncontainer">
                    <button class="navbutton" id="gallerybutton" onclick="buttonPressed(this.id)" class="navbutton">Gallery</button>
                </div>
                <div class="navbuttoncontainer">
                    <button class="navbutton" id="commissionsbutton" onclick="buttonPressed(this.id)" class="navbutton">Commissions</button>
                </div>
            </div>
        </div>
        <div id="maincontent">
            <div id="aboutme">
                <img src="blob.png">
                <p id="aboutmeparagraph">"Lorem ipsum dolor sit amet, consectetur adipiscing elit, 
                    sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad 
                    minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea 
                    commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit 
                    esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat 
                    non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."
                </p>
            </div>
            <div id="gallery" style="display: none;">

            </div>
            <div id="commissions" style="display: none;">
                <div id="commissionpadding">

                </div>
                <div id="commissionformouter">
                    <form id="commissionform" onsubmit="sendCommmission()" method="post" enctype="application/x-www-form-urlencoded">
                        <div id="commissionformcontent">
                            <h1>Contact</h1>
                            <p>Name:</p>
                            <textarea id="namefield"></textarea>
                            <p>Description of Idea:</p> 
                            <textarea  id="emailbody"></textarea> 
                            
                        </div>
                        <div id="submitbuttoncontainer">
                            <input id="submitbutton" type="submit" value="Email Me!">            
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </body>
</html>